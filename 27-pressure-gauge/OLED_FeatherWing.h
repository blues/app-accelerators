#ifndef OLED_FEATHER_WING_H
#define OLED_FEATHER_WING_H

#include <Adafruit_GFX.h>
#include <Adafruit_SSD1306.h>

// OLED FeatherWing buttons map to different pins depending on board.
// The I2C (Wire) bus may also be different.
#if defined(ESP8266)
  #define OFW_BUTTON_A  0
  #define OFW_BUTTON_B 16
  #define OFW_BUTTON_C  2
  #define OFW_WIRE Wire
#elif defined(ESP32)
  #define OFW_BUTTON_A 15
  #define OFW_BUTTON_B 32
  #define OFW_BUTTON_C 14
  #define OFW_WIRE Wire
#elif defined(ARDUINO_STM32_FEATHER)
  #define OFW_BUTTON_A PA15
  #define OFW_BUTTON_B PC7
  #define OFW_BUTTON_C PC5
  #define OFW_WIRE Wire
#elif defined(TEENSYDUINO)
  #define OFW_BUTTON_A  4
  #define OFW_BUTTON_B  3
  #define OFW_BUTTON_C  8
  #define OFW_WIRE Wire
#elif defined(ARDUINO_FEATHER52832)
  #define OFW_BUTTON_A 31
  #define OFW_BUTTON_B 30
  #define OFW_BUTTON_C 27
  #define OFW_WIRE Wire
#elif defined(ARDUINO_ADAFRUIT_FEATHER_RP2040)
  #define OFW_BUTTON_A  9
  #define OFW_BUTTON_B  8
  #define OFW_BUTTON_C  7
  #define OFW_WIRE Wire1
#else // 32u4, M0, M4, nrf52840 and 328p
  #define OFW_BUTTON_A  9
  #define OFW_BUTTON_B  6
  #define OFW_BUTTON_C  5
  #define OFW_WIRE Wire
#endif

void displayBluesSplash (size_t splash_ms);
void resetDisplay (void);

Adafruit_SSD1306 display = Adafruit_SSD1306(128, 32, &OFW_WIRE);

const uint8_t PROGMEM blues_splash_data[] = {
  0b00000110,0b00001111,0b11111111,0b10000000,0b00000000,0b00000000,0b00000000,0b00000000,0b00000000,0b00000000,0b00000000,0b00000000,0b00000000,0b00000000,0b00000000,0b00000000,
  0b00011111,0b00000111,0b11111111,0b11100000,0b00000000,0b00000000,0b00000000,0b00000000,0b00000000,0b00000000,0b00000000,0b00000000,0b00000000,0b00000000,0b00000000,0b00000000,
  0b00111111,0b10000011,0b11111111,0b11110000,0b00000000,0b00000000,0b00000000,0b00000000,0b00000000,0b00000000,0b00000000,0b00000000,0b00000000,0b00000000,0b00000000,0b00000000,
  0b01111111,0b11000001,0b11111111,0b11111000,0b00000000,0b00000000,0b00000000,0b00000000,0b00000000,0b00000000,0b00000000,0b00000000,0b00000000,0b00000000,0b00000000,0b00000000,
  0b01111111,0b11100000,0b11111111,0b11111000,0b00000000,0b00000000,0b00000000,0b00000000,0b00000000,0b00000000,0b00000000,0b00000000,0b00000000,0b00000000,0b00000000,0b00000000,
  0b11111111,0b11110000,0b01100111,0b11111100,0b00000000,0b00000000,0b00000000,0b00000000,0b00000000,0b00000000,0b00000000,0b00000000,0b00000000,0b00000011,0b10000000,0b00000000,
  0b11111111,0b11111000,0b00000001,0b11111100,0b00000011,0b10000000,0b00000011,0b10000000,0b00000000,0b00000000,0b00000000,0b00000000,0b00000000,0b00000111,0b11000000,0b00000000,
  0b11111111,0b11111100,0b00000000,0b11111100,0b00000111,0b11000000,0b00000111,0b11000000,0b00000000,0b00000000,0b00000000,0b00000000,0b00000000,0b00000111,0b11000000,0b00000000,
  0b11111111,0b11111110,0b00000000,0b01111100,0b00000111,0b11000000,0b00000111,0b11000000,0b00000000,0b00000000,0b00000000,0b00000000,0b00000000,0b00000111,0b11000000,0b00000000,
  0b11111111,0b11111100,0b00000000,0b00111100,0b00000111,0b11000000,0b00000111,0b11000000,0b00000000,0b00000000,0b00000000,0b00000000,0b00000000,0b00000011,0b10000000,0b00000000,
  0b11111111,0b11111100,0b00000000,0b00111100,0b00000111,0b11000000,0b00000111,0b11000000,0b00000000,0b00000000,0b00000000,0b00000000,0b00000000,0b00000000,0b00000000,0b00000000,
  0b11111111,0b11111100,0b00000000,0b00111100,0b00000111,0b11011111,0b00000111,0b11001110,0b00001110,0b00001111,0b11100000,0b00111111,0b10000000,0b00000011,0b10000001,0b11111000,
  0b11111111,0b11111100,0b00000000,0b00111100,0b00000111,0b11111111,0b10000111,0b11011111,0b00011111,0b00011111,0b11110000,0b01111111,0b11000000,0b00000011,0b10000111,0b11111100,
  0b11111111,0b11111110,0b00000000,0b01111100,0b00000111,0b11111111,0b11000111,0b11011111,0b00011111,0b00111111,0b11111000,0b11111111,0b11100000,0b00000011,0b10001111,0b11111110,
  0b11111111,0b11111111,0b00000000,0b11111100,0b00000111,0b11111111,0b11100111,0b11011111,0b00011111,0b00111111,0b11111001,0b11111111,0b11110000,0b00000011,0b10001111,0b00011110,
  0b11111111,0b10011111,0b10000001,0b11111100,0b00000111,0b11110011,0b11100111,0b11011111,0b00011111,0b01111100,0b01111101,0b11110001,0b11110000,0b00000011,0b10011110,0b00001111,
  0b11111110,0b00000111,0b11100111,0b11111100,0b00000111,0b11100001,0b11110111,0b11011111,0b00011111,0b01111100,0b01111101,0b11111100,0b11100000,0b00000011,0b10011100,0b00000111,
  0b11111100,0b00000011,0b11111111,0b11111100,0b00000111,0b11000001,0b11110111,0b11011111,0b00011111,0b01111111,0b11111100,0b11111111,0b00000000,0b00000011,0b10011100,0b00000111,
  0b11111000,0b00000001,0b11111111,0b11111100,0b00000111,0b11000001,0b11110111,0b11011111,0b00011111,0b01111111,0b11111100,0b01111111,0b11000000,0b00000011,0b10011100,0b00000111,
  0b11110000,0b00000000,0b11111111,0b11111100,0b00000111,0b11000001,0b11110111,0b11011111,0b00011111,0b01111111,0b11111100,0b00111111,0b11100000,0b00000011,0b10011100,0b00000111,
  0b11110000,0b00000000,0b11111111,0b11111100,0b00000111,0b11100001,0b11110111,0b11011111,0b00011111,0b01111100,0b00000000,0b00000111,0b11110000,0b00000011,0b10011100,0b00000111,
  0b11110000,0b00000000,0b11111111,0b11111100,0b00000111,0b11100011,0b11100111,0b11011111,0b00111111,0b01111100,0b01111000,0b11110001,0b11111000,0b11100011,0b10011110,0b00001111,
  0b11110000,0b00000000,0b11111111,0b11111100,0b00000111,0b11111111,0b11100111,0b11011111,0b11111111,0b01111111,0b11111101,0b11111111,0b11111001,0b11110011,0b10001111,0b00011110,
  0b11111000,0b00000001,0b11111111,0b11111100,0b00000111,0b11111111,0b11000111,0b11001111,0b11111111,0b00111111,0b11111101,0b11111111,0b11110001,0b11110011,0b10001111,0b11111110,
  0b11111100,0b00000000,0b11111111,0b11111100,0b00000111,0b11111111,0b11000111,0b11001111,0b11111111,0b00011111,0b11111001,0b11111111,0b11110001,0b11110011,0b10000111,0b11111100,
  0b11111110,0b00000000,0b01111111,0b11111100,0b00000011,0b11011111,0b10000011,0b10000111,0b11011110,0b00001111,0b11110000,0b01111111,0b11100000,0b11100011,0b10000011,0b11111000,
  0b11111111,0b10011000,0b00111111,0b11111100,0b00000000,0b00000000,0b00000000,0b00000000,0b00000000,0b00000000,0b00000000,0b00000000,0b00000000,0b00000000,0b00000000,0b00000000,
  0b01111111,0b11111100,0b00011111,0b11111000,0b00000000,0b00000000,0b00000000,0b00000000,0b00000000,0b00000000,0b00000000,0b00000000,0b00000000,0b00000000,0b00000000,0b00000000,
  0b01111111,0b11111110,0b00001111,0b11111000,0b00000000,0b00000000,0b00000000,0b00000000,0b00000000,0b00000000,0b00000000,0b00000000,0b00000000,0b00000000,0b00000000,0b00000000,
  0b00111111,0b11111111,0b00000111,0b11110000,0b00000000,0b00000000,0b00000000,0b00000000,0b00000000,0b00000000,0b00000000,0b00000000,0b00000000,0b00000000,0b00000000,0b00000000,
  0b00011111,0b11111111,0b10000011,0b11100000,0b00000000,0b00000000,0b00000000,0b00000000,0b00000000,0b00000000,0b00000000,0b00000000,0b00000000,0b00000000,0b00000000,0b00000000,
  0b00000111,0b11111111,0b11000001,0b10000000,0b00000000,0b00000000,0b00000000,0b00000000,0b00000000,0b00000000,0b00000000,0b00000000,0b00000000,0b00000000,0b00000000,0b00000000,
};

void displayBluesSplash (size_t splash_ms_) {
  display.clearDisplay();
  display.drawBitmap(0, 0, blues_splash_data, 128, 32, 1);
  display.display();
  delay(splash_ms_);
}

void resetDisplay (void) {
    display.clearDisplay();
    display.setCursor(0, 0);
}

#endif // OLED_FEATHER_WING_H
